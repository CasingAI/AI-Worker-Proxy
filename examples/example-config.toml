# Example configuration for wrangler.toml
# This shows OpenAI + Zhipu(GLM) configuration patterns

name = "ai-worker-proxy"
main = "src/index.ts"
compatibility_date = "2024-01-01"

[vars]
# Proxy authentication token
PROXY_AUTH_TOKEN = "your-secret-proxy-token-here"

# Model routing configuration
# Note: Model names are now used for routing instead of URL paths
ROUTES_CONFIG = '''
{
  "openai-main": [
    {
      "provider": "openai",
      "model": "gpt-4.1",
      "apiKeys": ["OPENAI_KEY_1", "OPENAI_KEY_2"]
    }
  ],
  "glm-main": [
    {
      "provider": "zhipu",
      "model": "glm-4.7",
      "apiKeys": ["ZHIPU_KEY_1", "ZHIPU_KEY_2"]
    }
  ],
  "fallback-mix": [
    {
      "provider": "zhipu",
      "model": "glm-4.7-flash",
      "apiKeys": ["ZHIPU_KEY_1"]
    }
    {
      "provider": "openai",
      "model": "gpt-4.1-mini",
      "apiKeys": ["OPENAI_KEY_1"]
    }
  ]
}
'''

# Remember to set secrets with:
# wrangler secret put OPENAI_KEY_1
# wrangler secret put OPENAI_KEY_2
# wrangler secret put ZHIPU_KEY_1
# wrangler secret put ZHIPU_KEY_2
# etc.
